{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Jig",
  "scopeName": "source.jig",
  "injections": {
    "source.jig - (meta.embedded | meta.tag | comment.block.jig), L:(source.jig meta.tag - (comment.block.jig | meta.embedded.block.jig)), L:(source.ts.embedded.html - (comment.block.jig | meta.embedded.block.jig))": {
      "patterns": [
        {
          "include": "#comment"
        },
        {
          "include": "#escapedMustache"
        },
        {
          "include": "#safeMustache"
        },
        {
          "include": "#mustache"
        },
        {
          "include": "#nonSeekableTag"
        },
        {
          "include": "#tag"
        }
      ]
    }
  },
  "repository": {
    "comment": {
      "begin": "\\{{--",
      "end": "\\--}}",
      "beginCaptures": {
        "0": { "name": "punctuation.definition.comment.begin.jig" }
      },
      "endCaptures": {
        "0": { "name": "punctuation.definition.comment.end.jig" }
      },
      "name": "comment.block"
    },
    "escapedMustache": {
      "begin": "\\@{{",
      "end": "\\}}",
      "beginCaptures": {
        "0": { "name": "punctuation.definition.comment.begin.jig" }
      },
      "endCaptures": {
        "0": { "name": "punctuation.definition.comment.end.jig" }
      },
      "name": "comment.block"
    },
    "safeMustache": {
      "begin": "\\{{{",
      "end": "\\}}}",
      "beginCaptures": {
        "0": { "name": "punctuation.mustache.begin" }
      },
      "endCaptures": {
        "0": { "name": "punctuation.mustache.end" }
      },
      "name": "meta.embedded.block.javascript",
      "patterns": [{ "include": "source.ts#expression" }]
    },
    "mustache": {
      "begin": "\\{{",
      "end": "\\}}",
      "beginCaptures": {
        "0": { "name": "punctuation.mustache.begin" }
      },
      "endCaptures": {
        "0": { "name": "punctuation.mustache.end" }
      },
      "name": "meta.embedded.block.javascript",
      "patterns": [{ "include": "source.ts#expression" }]
    },
    "nonSeekableTag": {
      "match": "^(\\s*)((@{1,2})(!)?([a-zA-Z._]+))(~)?$",
      "captures": {
        "2": { "name": "support.function.jig" }
      },
      "name": "meta.embedded.block.javascript",
      "patterns": [{ "include": "source.ts#expression" }]
    },
    "tag": {
      "begin": "^(\\s*)((@{1,2})(!)?([a-zA-Z._]+)(\\s{0,2}))(\\()",
      "beginCaptures": {
        "2": { "name": "support.function.jig" },
        "7": { "name": "punctuation.paren.open" }
      },
      "end": "\\)",
      "endCaptures": {
        "0": { "name": "punctuation.paren.close" }
      },
      "name": "meta.embedded.block.javascript",
      "patterns": [{ "include": "source.ts#expression" }]
    }
  },
  "patterns": []
}
